import{R as k,s as h,r as V,A as u,C as i,c as o,E as l,N as x,F as n,M as _,D as f,O as S,G as g,Q as U,S as T,T as j,P as b}from"./index-znGQ3c5l.js";import{C as L,B as $,A as O}from"./index-CtCo2FIM.js";import{C as w}from"./credit-card-B9K6841e.js";import"./on-popup-reopen-D8XWLTXo.js";const R={class:"flex text-[20px] font-bold"},A={class:"flex-1"},E={class:"flex justify-between"},F={class:"text-[14px] text-[#8fd4de]"},G={class:"text-[14px] text-[#8fd4de]"},J={class:"p-[10px]"},P={class:"flex space-x-2"},Q={__name:"CardCard",props:{data:{type:Object,default:()=>{}},add:{type:Boolean,default:!1}},setup(C){const r=k(),p=C,a=h(()=>p.data??{}),e=V({}),d=V(!1),v=()=>{e.value={id:new Date().getTime()},d.value=!0},c=()=>{a.value.id&&(d.value=!0,e.value=JSON.parse(JSON.stringify(a.value)))},N=()=>{r.editCard(e.value),e.value={},d.value=!1},B=()=>{r.removeCard(e.value),e.value={},d.value=!1};return(W,t)=>{const m=U,D=L,y=$,M=O;return u(),i(g,null,[p.add?(u(),i("div",{key:0,class:"mb-[10px] bg-[#2f6870] p-[10px] text-[#8fd4de] flex justify-center items-center",onClick:v},[o(l(w),{class:"mr-1"}),x("添加信用卡 ")])):(u(),i("div",{key:1,class:"mb-[10px] bg-[#255359] p-[10px] text-white",onClick:c},[n("div",R,[n("div",A,[n("div",null,_(a.value.name),1)]),n("div",null,_(a.value.rate)+"%",1)]),n("div",E,[n("div",F,_(a.value.tip??""),1),n("div",G,_(a.value.limit?`Max：${a.value.limit} NTD`:"-"),1)])])),o(M,{show:l(d),"onUpdate:show":t[7]||(t[7]=s=>S(d)?d.value=s:null),title:a.value.name},{default:f(()=>[n("div",J,[o(D,{inset:""},{default:f(()=>[o(m,{modelValue:l(e).name,"onUpdate:modelValue":t[0]||(t[0]=s=>l(e).name=s),label:"名稱"},null,8,["modelValue"]),o(m,{modelValue:l(e).tip,"onUpdate:modelValue":t[1]||(t[1]=s=>l(e).tip=s),label:"備註"},null,8,["modelValue"]),o(m,{modelValue:l(e).rate,"onUpdate:modelValue":t[2]||(t[2]=s=>l(e).rate=s),type:"number",label:"回饋"},null,8,["modelValue"]),o(m,{modelValue:l(e).limit,"onUpdate:modelValue":t[3]||(t[3]=s=>l(e).limit=s),type:"number",label:"上限(NTD)"},null,8,["modelValue"]),o(m,{modelValue:l(e).exRate,"onUpdate:modelValue":t[4]||(t[4]=s=>l(e).exRate=s),type:"number",label:"匯率"},null,8,["modelValue"])]),_:1}),n("div",P,[o(y,{round:"",type:"danger",block:"",onClick:t[5]||(t[5]=s=>B())},{default:f(()=>[x("刪除")]),_:1}),o(y,{round:"",type:"success",block:"",onClick:t[6]||(t[6]=s=>N())},{default:f(()=>[x("確認")]),_:1})])])]),_:1},8,["show","title"])],64)}}},q={class:"p-[10px] h-full flex flex-col"},z={key:0,class:"h-full flex justify-center items-center"},H={class:"flex items-center"},I={key:1,class:"h-full"},K={__name:"card",setup(C){const r=k(),p=h(()=>r.cardList?r.cardList.sort((a,e)=>(e==null?void 0:e.rate)-(a==null?void 0:a.rate)):[]);return(a,e)=>{const d=$,v=Q;return u(),i("div",q,[p.value.length?(u(),i("div",I,[(u(!0),i(g,null,T(p.value,c=>(u(),j(v,{key:c.id,data:c},null,8,["data"]))),128)),o(v,{add:""})])):(u(),i("div",z,[o(d,{type:"default",round:"",onClick:e[0]||(e[0]=c=>l(r).setDefaultCard())},{default:f(()=>[n("div",H,[o(l(w),{class:"mr-1"}),x("加入預設卡片")])]),_:1})]))])}}};typeof b=="function"&&b(K);export{K as default};
